(async () => {
      const docs = document.getElementById('docs');
      const apiDescriptionDocument = {"openapi":"3.0.0","info":{"title":"water-management-service","description":"Backend service for water management","version":"1.0.0"},"servers":[{"url":"https://dev1.exeloncircuits.com"},{"url":"http://localhost:7003"}],"components":{"securitySchemes":{"adminBearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"Specify the admin token"},"userBearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"Specify the user token"}},"parameters":{"XDemoHeader":{"name":"X-Demo","in":"header","description":"Set to 'true' to use the demo database, 'false' or omit for main database.","required":false,"schema":{"type":"string","enum":["true","false"]}}},"schemas":{"Access Token":{"type":"object","properties":{"_id":{"type":"string","format":"objectId","description":"Unique identifier for the token record","example":"64b7c67b2f4a3e8d9c1a01f1"},"token":{"type":"string","description":"The actual token value","example":"abcdef1234567890"},"userId":{"type":"string","format":"objectId","description":"The user ID associated with the token","example":"64b7c67b2f4a3e8d9c1a01f2"},"isDemo":{"type":"boolean","description":"Indicates whether the token record is part of a demo","example":false},"createdAt":{"type":"string","format":"date-time","description":"The date and time when the token was created","example":"2024-12-01T10:15:30Z"},"updatedAt":{"type":"string","format":"date-time","description":"The date and time when the token was updated","example":"2024-12-01T10:15:30Z"}}},"Admin":{"type":"object","properties":{"_id":{"type":"string","format":"objectId","description":"Unique identifier for the admin"},"name":{"type":"string","description":"Name of the admin","example":"Admin User"},"phone":{"type":"string","description":"Phone number of the admin","example":"9876543210"},"countryCode":{"type":"string","description":"Country code for the phone number","example":"91"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the admin was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the admin was last updated"}}},"Area":{"type":"object","properties":{"_id":{"type":"string","format":"objectId","description":"Unique identifier for the area"},"name":{"type":"string","description":"Name of the area","example":"North Sector"},"description":{"type":"string","description":"Detailed description of the area","example":"Covers the northern residential district"},"city":{"type":"string","description":"City name for the area","example":"Ahmedabad"},"pincode":{"type":"string","description":"Postal/ZIP code for the area","example":"380015"},"isDeleted":{"type":"boolean","description":"Flag for soft deletion","default":false},"totalCustomer":{"type":"number","description":"Total number of customers in this area","example":5},"totalLiters":{"type":"number","description":"Total water quantity (liters) for all customers in this area","example":200},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the area was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the area was last updated"}}},"OTP":{"type":"object","properties":{"_id":{"type":"string","format":"objectId","description":"Unique identifier for the OTP record"},"otp":{"type":"string","description":"The one-time password value"},"phone":{"type":"string","description":"Phone number the OTP was sent to","example":"9876543210"},"countryCode":{"type":"string","description":"Country code for the phone number","example":"91"},"isVerified":{"type":"boolean","description":"Indicates if the OTP was verified"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the OTP was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the OTP was last updated"}}},"Refresh Token":{"type":"object","properties":{"_id":{"type":"string","format":"objectId","description":"Unique identifier for the token record"},"token":{"type":"string","description":"The actual token value"},"userId":{"type":"string","format":"objectId","description":"The user ID associated with the token"},"createdAt":{"type":"string","format":"date-time","description":"The date and time when the token was created"},"updatedAt":{"type":"string","format":"date-time","description":"The date and time when the token was updated"},"role":{"type":"string","description":"The role of the user (user or admin)","enum":["user","admin"]}}},"Slot":{"type":"object","properties":{"_id":{"type":"string","format":"objectId","description":"Unique identifier for the slot"},"date":{"type":"string","format":"date","description":"Date of the slot","example":"2024-03-20"},"startTime":{"type":"string","format":"date-time","description":"Start time of the slot","example":"2024-03-20T10:00:00.000Z"},"endTime":{"type":"string","format":"date-time","description":"End time of the slot","example":"2024-03-20T11:00:00.000Z"},"areaId":{"type":"string","format":"objectId","description":"Reference to the Area"},"capacity":{"type":"number","description":"Total capacity of the slot","example":10},"currentBookingsCount":{"type":"number","description":"Number of current bookings","default":0,"example":2},"bookingCutoffTime":{"type":"string","format":"date-time","description":"Deadline for booking the slot","example":"2024-03-20T08:00:00.000Z"},"status":{"type":"string","enum":["Available","Full","Closed"],"description":"Status of the slot","example":"Available"},"isActive":{"type":"boolean","default":true},"isDeleted":{"type":"boolean","default":false},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"SlotSubscription":{"type":"object","properties":{"_id":{"type":"string","format":"objectId","description":"Unique identifier for the subscription"},"customerId":{"type":"string","format":"objectId","description":"Reference to the User (Customer)"},"slotId":{"type":"string","format":"objectId","description":"Reference to the Slot"},"quantity":{"type":"number","description":"Quantity of the subscription","example":1},"status":{"type":"string","enum":["Booked","Delivered","Cancelled","Missed"],"description":"Status of the subscription","example":"Booked"},"deliveredAt":{"type":"string","format":"date-time","description":"Timestamp when the subscription was delivered"},"isActive":{"type":"boolean","default":true},"isDeleted":{"type":"boolean","default":false},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"User":{"type":"object","properties":{"_id":{"type":"string","description":"Unique identifier of the user","example":"64d2fa92e5b5f7765e4e13a2"},"name":{"type":"string","description":"Full name of the user","example":"Shashank"},"countryCode":{"type":"string","description":"Country code of the user's phone number","example":"91"},"phone":{"type":"string","description":"Phone number of the user","example":"9876543210"},"address":{"type":"object","properties":{"houseNo":{"type":"string"},"street":{"type":"string"},"area":{"type":"string"},"city":{"type":"string"},"pincode":{"type":"string"},"landmark":{"type":"string"}}},"waterQuantity":{"type":"number","example":20},"notes":{"type":"string","example":"Leave at door"},"isEnabled":{"type":"boolean","description":"Indicates if the user account is enabled","example":true},"isVerified":{"type":"boolean","description":"Indicates if the user's email or phone is verified","example":false},"isDeleted":{"type":"boolean","description":"Indicates if the user account is deleted","example":false},"createdAt":{"type":"string","format":"date-time","description":"Date and time when the user account was created","example":"2024-12-01T12:34:56.789Z"},"updatedAt":{"type":"string","format":"date-time","description":"Date and time when the user account was last updated","example":"2024-12-10T09:30:45.123Z"}}}}},"security":[],"paths":{"/v1/admin/area/create":{"post":{"summary":"Create a new area","tags":["Admin/Areas"],"security":[{"adminBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string","example":"North Sector"},"description":{"type":"string","example":"Residential area in the north"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380015"}}}}}},"responses":{"201":{"description":"Area created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":201},"message":{"type":"string","example":"Area created successfully"},"data":{"type":"object","properties":{"_id":{"type":"string","example":"60d5ecb8b5c9c62b3c7c1b5e"}}},"toastMessage":{"type":"string","example":"Area created successfully"}}}}}},"500":{"description":"Internal server error"}}}},"/v1/admin/area/update/{id}":{"put":{"summary":"Update an existing area","tags":["Admin/Areas"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Area ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Updated North Sector"},"description":{"type":"string","example":"Updated description"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380015"}}}}}},"responses":{"200":{"description":"Area updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Area updated successfully"},"data":{"type":"object","properties":{"_id":{"type":"string","example":"60d5ecb8b5c9c62b3c7c1b5e"},"name":{"type":"string","example":"Updated North Sector"},"description":{"type":"string","example":"Updated description"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380015"},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2024-12-01T12:34:56.789Z"},"updatedAt":{"type":"string","example":"2024-12-10T09:30:45.123Z"}}},"toastMessage":{"type":"string","example":"Area updated successfully"}}}}}},"404":{"description":"Area not found"},"500":{"description":"Internal server error"}}}},"/v1/admin/area/delete/{id}":{"delete":{"summary":"Soft delete an area","tags":["Admin/Areas"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Area ID"}],"responses":{"200":{"description":"Area deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"data":{"type":"string","example":"Area deleted successfully"},"toastMessage":{"type":"string","example":"Area deleted successfully"}}}}}},"404":{"description":"Area not found"},"500":{"description":"Internal server error"}}}},"/v1/admin/area/get/{id}":{"get":{"summary":"Get area by ID","tags":["Admin/Areas"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Area ID"}],"responses":{"200":{"description":"Area fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Area fetched successfully"},"data":{"type":"object","properties":{"_id":{"type":"string","example":"698e06ddd2753dd70a8ef994"},"name":{"type":"string","example":"North Sector"},"description":{"type":"string","example":"Residential area in the north"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380015"},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2026-02-12T16:59:09.066Z"},"updatedAt":{"type":"string","example":"2026-02-12T16:59:09.066Z"}}},"toastMessage":{"type":"string","nullable":true,"example":null}}}}}},"404":{"description":"Area not found"},"500":{"description":"Internal server error"}}}},"/v1/admin/area/getAll":{"post":{"summary":"Get all areas with filters, pagination, and search","tags":["Admin/Areas"],"security":[{"adminBearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"filters":{"type":"object","example":{"city":"Ahmedabad"}},"options":{"type":"object","properties":{"page":{"type":"integer","example":1},"itemsPerPage":{"type":"integer","example":10},"sortBy":{"type":"array","items":{"type":"string"},"example":["createdAt"]},"sortDesc":{"type":"array","items":{"type":"boolean"},"example":[true]}}},"search":{"type":"array","items":{"type":"object","properties":{"term":{"type":"string","example":"North"},"fields":{"type":"array","items":{"type":"string"},"example":["name","city","pincode"]},"startsWith":{"type":"boolean","example":true},"endsWith":{"type":"boolean","example":false}}}},"project":{"type":"object","example":{"name":1,"description":1,"city":1,"pincode":1}}}}}}},"responses":{"200":{"description":"Areas fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"data":{"type":"object","properties":{"totalCount":{"type":"integer","example":3},"totalCustomers":{"type":"string","example":"8"},"totalLiters":{"type":"string","example":"225"},"tableData":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","example":"698e06ddd2753dd70a8ef994"},"name":{"type":"string","example":"North Sector"},"description":{"type":"string","example":"Residential area in the north"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380015"},"isDeleted":{"type":"boolean","example":false},"totalCustomer":{"type":"number","example":6},"totalLiters":{"type":"number","example":165},"createdAt":{"type":"string","example":"2026-02-12T16:59:09.066Z"},"updatedAt":{"type":"string","example":"2026-02-12T17:18:31.885Z"}}}}}},"toastMessage":{"type":"string","nullable":true,"example":null}}}}}},"500":{"description":"Internal server error"}}}},"/v1/admin/auth/sendOTP":{"post":{"summary":"Send an OTP to the admin's phone","tags":["Admin/Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["countryCode","phone"],"properties":{"countryCode":{"type":"string","description":"E.164 compatible country code prefix","example":"91"},"phone":{"type":"string","description":"Admin's phone number without country code","example":"9876543210"}}}}}},"responses":{"200":{"description":"OTP sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"success"},"data":{"type":"string","example":"OTP sent successfully"},"toastMessage":{"type":"string","nullable":true,"example":"OTP sent"}}}}}},"400":{"description":"Missing parameters or resend cool down not elapsed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":400},"message":{"type":"string","example":"OTP already sent"},"data":{"type":"object","nullable":true,"example":null},"toastMessage":{"type":"string","example":"OTP already sent"}}}}}},"500":{"description":"Unexpected error while sending OTP","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":500},"message":{"type":"string","example":"Error sending OTP"},"data":{"type":"object","nullable":true,"example":null},"toastMessage":{"type":"string","example":"Error sending OTP"}}}}}}}}},"/v1/admin/auth/verifyOTP":{"post":{"summary":"Verify OTP and issue admin tokens","tags":["Admin/Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["countryCode","phone","otp"],"properties":{"countryCode":{"type":"string","description":"Country code prefix","example":"91"},"phone":{"type":"string","description":"Phone number that received the OTP","example":"9876543210"},"otp":{"type":"string","description":"OTP received on the phone","example":"1234"}}}}}},"responses":{"200":{"description":"OTP verified successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"OTP verified successfully"},"data":{"type":"object","properties":{"isVerified":{"type":"boolean","description":"Indicates if the OTP was successfully verified","example":true},"isNewAdmin":{"type":"boolean","description":"Indicates if this is a new admin or profile incomplete","example":true},"profileCompleted":{"type":"boolean","description":"Indicates if the admin has completed their profile (name set)","example":false},"accessToken":{"type":"string","description":"JWT access token for authentication","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","description":"JWT refresh token for obtaining new access tokens","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"expiryTime":{"type":"string","format":"date-time","description":"Expiry time of the access token","example":"2025-11-14T17:02:33.934Z"}}},"toastMessage":{"type":"string","example":"OTP verified"}}}}}},"400":{"description":"Invalid OTP or validation error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":400},"message":{"type":"string","example":"Invalid OTP"},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Invalid OTP"}}}}}},"500":{"description":"Unexpected error while verifying OTP","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":500},"message":{"type":"string","example":"Error verifying OTP"},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Error verifying OTP"}}}}}}}}},"/v1/admin/auth/refreshToken":{"post":{"summary":"Refresh admin access token","tags":["Admin/Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"type":"string","description":"Refresh token issued during login","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}}}},"responses":{"200":{"description":"Token refreshed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"success"},"data":{"type":"object","properties":{"accessToken":{"type":"string","description":"New JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","description":"Same refresh token (not rotated)","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"expiryTime":{"type":"string","format":"date-time","description":"Expiry time of the new access token","example":"2026-02-10T23:15:33.934Z"}}},"toastMessage":{"type":"string","example":"Token refreshed"}}}}}},"400":{"description":"Invalid or expired refresh token","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":400},"message":{"type":"string","example":"Refresh token invalid or expired"},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Refresh token invalid or expired"}}}}}},"404":{"description":"Admin not found","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":404},"message":{"type":"string","example":"Admin not found"},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Admin not found"}}}}}},"500":{"description":"Unexpected error while refreshing token","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":500},"message":{"type":"string","example":"Error refreshing access token"},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Error refreshing access token"}}}}}}}}},"/v1/admin/auth/updateProfile":{"put":{"summary":"Update admin profile","tags":["Admin/Auth"],"security":[{"adminBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"Admin's name","example":"John Doe"}}}}}},"responses":{"200":{"description":"Profile updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"success"},"data":{"type":"object","properties":{"name":{"type":"string","example":"John Doe"},"phone":{"type":"string","example":"9876543210"},"countryCode":{"type":"string","example":"91"}}},"toastMessage":{"type":"string","example":"Profile updated successfully"}}}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":401},"message":{"type":"string","example":"Unauthorized access. Please login again."},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Unauthorized access. Please login again."}}}}}},"404":{"description":"Admin not found","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":404},"message":{"type":"string","example":"Admin not found"},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Admin not found"}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":500},"message":{"type":"string","example":"Something went wrong. Please try again later."},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Something went wrong. Please try again later."}}}}}}}}},"/v1/admin/auth/logout":{"post":{"summary":"Logout admin","tags":["Admin/Auth"],"security":[{"adminBearerAuth":[]}],"responses":{"200":{"description":"Logged out successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"success"},"data":{"type":"string","example":"Logged out successfully"},"toastMessage":{"type":"string","example":"Logged out successfully"}}}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":401},"message":{"type":"string","example":"Unauthorized access. Please login again."},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Unauthorized access. Please login again."}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":500},"message":{"type":"string","example":"Something went wrong. Please try again later."},"data":{"type":"object","example":{}},"toastMessage":{"type":"string","example":"Something went wrong. Please try again later."}}}}}}}}},"/v1/admin/auth/profile":{"get":{"summary":"Get admin profile","tags":["Admin/Auth"],"security":[{"adminBearerAuth":[]}],"responses":{"200":{"description":"Profile fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Profile fetched successfully"},"data":{"$ref":"#/components/schemas/Admin"},"toastMessage":{"type":"string","nullable":true}}}}}},"401":{"description":"Unauthorized"},"404":{"description":"Admin not found"},"500":{"description":"Internal server error"}}}},"/v1/ping":{"get":{"summary":"Health check endpoint","description":"Simple endpoint to verify the API is running","tags":["Base"],"parameters":[{"$ref":"#/components/parameters/XDemoHeader"}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"pong"}}}}}}}}},"/v1/version":{"get":{"summary":"Get API version","description":"Returns the current version of the API","tags":["Base"],"parameters":[{"$ref":"#/components/parameters/XDemoHeader"}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"version":{"type":"string","example":"1.0.0"}}}}}}}}},"/v1/test":{"get":{"summary":"Test endpoint","description":"Tests if the API is working properly","tags":["Base"],"parameters":[{"$ref":"#/components/parameters/XDemoHeader"}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"All ok"},"version":{"type":"string","example":"1.0.0"}}}}}}}}},"/v1/admin/slot/create":{"post":{"summary":"Create a new slot","tags":["Admin/Slots"],"security":[{"adminBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["date","startTime","endTime","areaId","capacity","bookingCutoffTime"],"properties":{"date":{"type":"string","format":"date","example":"2024-03-20"},"startTime":{"type":"string","format":"date-time","example":"2024-03-20T10:00:00.000Z"},"endTime":{"type":"string","format":"date-time","example":"2024-03-20T11:00:00.000Z"},"areaId":{"type":"string","example":"60d5ecb8b5c9c62b3c7c1b5e"},"capacity":{"type":"integer","example":10},"bookingCutoffTime":{"type":"string","format":"date-time","example":"2024-03-20T08:00:00.000Z"}}}}}},"responses":{"201":{"description":"Slot created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":201},"message":{"type":"string","example":"Slot created successfully"},"data":{"type":"object","properties":{"_id":{"type":"string","example":"60d5ecb8b5c9c62b3c7c1b5e"}}},"toastMessage":{"type":"string","example":"Slot created successfully"}}}}}},"500":{"description":"Internal server error"}}}},"/v1/admin/slot/update/{id}":{"put":{"summary":"Update an existing slot","tags":["Admin/Slots"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Slot ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"date":{"type":"string","format":"date","example":"2024-03-20"},"startTime":{"type":"string","format":"date-time","example":"2024-03-20T10:30:00.000Z"},"endTime":{"type":"string","format":"date-time","example":"2024-03-20T11:30:00.000Z"},"capacity":{"type":"integer","example":15},"bookingCutoffTime":{"type":"string","format":"date-time","example":"2024-03-20T08:00:00.000Z"},"status":{"type":"string","enum":["Available","Full","Closed"],"example":"Available"},"isActive":{"type":"boolean","example":true}}}}}},"responses":{"200":{"description":"Slot updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Slot updated successfully"},"data":{"type":"object","properties":{"_id":{"type":"string","example":"60d5ecb8b5c9c62b3c7c1b5e"},"date":{"type":"string","example":"2024-03-20T00:00:00.000Z"},"startTime":{"type":"string","example":"2024-03-20T10:30:00.000Z"},"endTime":{"type":"string","example":"2024-03-20T11:30:00.000Z"},"areaId":{"type":"string","example":"60d5ecb8b5c9c62b3c7c1b5e"},"capacity":{"type":"integer","example":15},"bookingCutoffTime":{"type":"string","example":"2024-03-20T08:00:00.000Z"},"status":{"type":"string","example":"Available"},"isActive":{"type":"boolean","example":true},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2024-12-01T12:34:56.789Z"},"updatedAt":{"type":"string","example":"2024-12-10T09:30:45.123Z"}}},"toastMessage":{"type":"string","example":"Slot updated successfully"}}}}}},"404":{"description":"Slot not found"},"500":{"description":"Internal server error"}}}},"/v1/admin/slot/delete/{id}":{"delete":{"summary":"Soft delete a slot","tags":["Admin/Slots"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Slot ID"}],"responses":{"200":{"description":"Slot deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"data":{"type":"string","example":"Slot deleted successfully"},"toastMessage":{"type":"string","example":"Slot deleted successfully"}}}}}},"404":{"description":"Slot not found"},"500":{"description":"Internal server error"}}}},"/v1/admin/slot/get/{id}":{"get":{"summary":"Get slot by ID","tags":["Admin/Slots"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Slot ID"}],"responses":{"200":{"description":"Slot fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Slot fetched successfully"},"data":{"type":"object","properties":{"_id":{"type":"string","example":"60d5ecb8b5c9c62b3c7c1b5e"},"date":{"type":"string","example":"2024-03-20T00:00:00.000Z"},"startTime":{"type":"string","example":"2024-03-20T10:00:00.000Z"},"endTime":{"type":"string","example":"2024-03-20T11:00:00.000Z"},"areaId":{"type":"object","properties":{"_id":{"type":"string","example":"698e06ddd2753dd70a8ef994"},"name":{"type":"string","example":"North Sector"},"description":{"type":"string","example":"Residential area in the north"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380015"}}},"capacity":{"type":"integer","example":500},"bookingCutoffTime":{"type":"string","format":"date-time","example":"2024-03-20T08:00:00.000Z"},"currentBookingsCount":{"type":"integer","example":0},"status":{"type":"string","example":"Available"},"isActive":{"type":"boolean","example":true},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","format":"date-time","example":"2026-02-13T13:26:18.471Z"},"updatedAt":{"type":"string","format":"date-time","example":"2026-02-13T13:26:18.471Z"}}},"toastMessage":{"type":"string","nullable":true,"example":null}}}}}},"404":{"description":"Slot not found"},"500":{"description":"Internal server error"}}}},"/v1/admin/slot/getAll":{"post":{"summary":"Get all slots with filters, pagination, and search","tags":["Admin/Slots"],"security":[{"adminBearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"filters":{"type":"object","example":{"status":"Available"}},"options":{"type":"object","properties":{"page":{"type":"integer","example":1},"itemsPerPage":{"type":"integer","example":10},"sortBy":{"type":"array","items":{"type":"string"},"example":["date"]},"sortDesc":{"type":"array","items":{"type":"boolean"},"example":[false]}}},"search":{"type":"array","items":{"type":"object","properties":{"term":{"type":"string","example":"2024"},"fields":{"type":"array","items":{"type":"string"},"example":["date"]}}}},"project":{"type":"object","example":{"date":1,"startTime":1,"endTime":1,"capacity":1,"status":1,"bookingCutoffTime":1}}}}}}},"responses":{"200":{"description":"Slots fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Slots fetched successfully"},"data":{"type":"object","properties":{"totalCount":{"type":"integer","example":3},"tableData":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","example":"698f27954a89fa797309147a"},"date":{"type":"string","format":"date-time","example":"2026-02-14T00:00:00.000Z"},"startTime":{"type":"string","format":"date-time","example":"2026-02-14T15:00:00.000Z"},"endTime":{"type":"string","format":"date-time","example":"2026-02-14T18:00:00.000Z"},"areaId":{"type":"object","properties":{"_id":{"type":"string","example":"698e06ddd2753dd70a8ef994"},"name":{"type":"string","example":"North Sector"},"description":{"type":"string","example":"Residential area in the north"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380015"}}},"capacity":{"type":"integer","example":400},"currentBookingsCount":{"type":"integer","example":0},"bookingCutoffTime":{"type":"string","format":"date-time","example":"2026-02-14T14:00:00.000Z"},"status":{"type":"string","example":"Available"},"isActive":{"type":"boolean","example":true},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","format":"date-time","example":"2026-02-13T13:31:01.678Z"},"updatedAt":{"type":"string","format":"date-time","example":"2026-02-13T13:31:01.678Z"}}}}}},"toastMessage":{"type":"string","nullable":true,"example":null}}}}}},"500":{"description":"Internal server error"}}}},"/v1/admin/slotSubscription/pendingExtraRequests":{"post":{"summary":"Get all pending extra quantity requests","tags":["Admin/SlotSubscription"],"security":[{"adminBearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"filters":{"type":"object","example":{}},"options":{"type":"object","properties":{"page":{"type":"number","example":1},"itemsPerPage":{"type":"number","example":10},"sortBy":{"type":"array","items":{"type":"string"},"example":["createdAt"]},"sortDesc":{"type":"array","items":{"type":"boolean"},"example":[true]}}},"search":{"type":"array","items":{"type":"object","properties":{"term":{"type":"string"},"fields":{"type":"array","items":{"type":"string"}},"startsWith":{"type":"boolean"},"endsWith":{"type":"boolean"}}},"example":[{"term":"99","fields":["phone"],"startsWith":false,"endsWith":false}]},"project":{"type":"object","example":{"customerId":1,"extraQuantity":1,"createdAt":1}}}}}}},"responses":{"200":{"description":"Pending requests fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"status":{"type":"number"},"message":{"type":"string"},"data":{"type":"object","properties":{"totalCount":{"type":"number"},"tableData":{"type":"array","items":{"type":"object"}}}},"toastMessage":{"type":"string","nullable":true}}},"example":{"status":200,"message":"Pending extra requests fetched successfully","data":{"totalCount":1,"tableData":[{"_id":"69903b2d2a8d7e1dae1d278b","customerId":{"_id":"698f7dcfa9b153542b31e653","name":"jayyu","phone":"7338198918","countryCode":"91","address":{"houseNo":"123","street":"Main St","area":"698e06ddd2753dd70a8ef994","city":"Ahmedabad","pincode":"380009","landmark":"Near Park"},"waterQuantity":40,"notes":"Special instructions","isEnabled":true,"isVerified":false,"isDeleted":false,"createdAt":"2026-02-13T19:38:55.862Z","updatedAt":"2026-02-13T19:38:55.862Z"},"slotId":{"_id":"69903b2d2a8d7e1dae1d2783","date":"2026-02-14T00:00:00.000Z","startTime":"2026-02-14T18:00:00.000Z","endTime":"2026-02-14T20:00:00.000Z","areaId":{"_id":"698e06ddd2753dd70a8ef994","name":"North Sector","description":"Residential area in the north","city":"Ahmedabad","pincode":"380015","isDeleted":true,"createdAt":"2026-02-12T16:59:09.066Z","updatedAt":"2026-02-12T17:18:31.885Z"},"capacity":500,"currentBookingsCount":0,"bookingCutoffTime":"2026-02-14T16:00:00.000Z","status":"Available","isActive":true,"isDeleted":false,"createdAt":"2026-02-14T09:06:53.861Z","updatedAt":"2026-02-14T09:06:53.861Z"},"quantity":40,"status":"Delivered","extraQuantity":20,"extraRequestStatus":"Pending","isActive":true,"isDeleted":false,"createdAt":"2026-02-14T09:06:53.913Z","updatedAt":"2026-02-14T11:57:16.144Z","deliveredAt":"2026-02-14T10:46:03.854Z"}]},"toastMessage":null}}}}}}},"/v1/admin/slot-subscription/update-extra-request-status/{id}":{"put":{"summary":"Approve or reject an extra quantity request","tags":["Admin/SlotSubscription"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Subscription ID"}],"security":[{"adminBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["Approved","Rejected"]}}}}}},"responses":{"200":{"description":"Request updated successfully"},"404":{"description":"Subscription not found"}}}},"/v1/admin/slot-subscription/update-delivery-status/{id}":{"put":{"summary":"Update delivery status (Delivered or Missed)","tags":["Admin/SlotSubscription"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Subscription ID"}],"security":[{"adminBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["Delivered","Missed"]}}}}}},"responses":{"200":{"description":"Status updated successfully"},"404":{"description":"Subscription not found"}}}},"/v1/admin/user/create":{"post":{"summary":"Create a new user","tags":["Admin/Users"],"security":[{"adminBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","phone","countryCode","address","waterQuantity"],"properties":{"name":{"type":"string"},"phone":{"type":"string"},"countryCode":{"type":"string"},"address":{"type":"object","properties":{"houseNo":{"type":"string"},"street":{"type":"string"},"area":{"type":"string"},"city":{"type":"string"},"pincode":{"type":"string"},"landmark":{"type":"string"}}},"waterQuantity":{"type":"number"},"notes":{"type":"string"}}}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":201},"message":{"type":"string","example":"User created successfully"},"data":{"type":"object","properties":{"_id":{"type":"string"}}},"toastMessage":{"type":"string","example":"User created successfully"}}}}}},"409":{"description":"User already exists"},"500":{"description":"Internal server error"}}}},"/v1/admin/user/update/{id}":{"put":{"summary":"Update an existing user","tags":["Admin/Users"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"phone":{"type":"string"},"countryCode":{"type":"string"},"address":{"type":"object"},"waterQuantity":{"type":"number"},"notes":{"type":"string"},"isEnabled":{"type":"boolean"}}}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"data":{"$ref":"#/components/schemas/User"},"toastMessage":{"type":"string","example":"User updated successfully"}}}}}},"404":{"description":"User not found"}}}},"/v1/admin/user/delete/{id}":{"delete":{"summary":"Soft delete a user","tags":["Admin/Users"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"User deleted successfully"}}}},"/v1/admin/user/get/{id}":{"get":{"summary":"Get user by ID","tags":["Admin/Users"],"security":[{"adminBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"User fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"User fetched successfully"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"countryCode":{"type":"string"},"address":{"type":"object"},"waterQuantity":{"type":"number"},"notes":{"type":"string"},"isEnabled":{"type":"boolean"},"isVerified":{"type":"boolean"},"isDeleted":{"type":"boolean"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"areaId":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"city":{"type":"string"},"pincode":{"type":"string"}}}}},"toastMessage":{"type":"string","nullable":true}}}}}}}}},"/v1/admin/user/getAll":{"post":{"summary":"Get all users with search, sort, and pagination","tags":["Admin/Users"],"security":[{"adminBearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"options":{"type":"object","properties":{"page":{"type":"integer"},"itemsPerPage":{"type":"integer"},"sortBy":{"type":"array","items":{"type":"string"}},"sortDesc":{"type":"array","items":{"type":"boolean"}}}},"project":{"type":"object"},"filters":{"type":"object"},"search":{"type":"array","items":{"type":"object","properties":{"term":{"type":"string"},"fields":{"type":"array","items":{"type":"string"}},"startsWith":{"type":"boolean"},"endsWith":{"type":"boolean"}}}},"areaId":{"type":"string","description":"Filter users by area ID"}}},"example":{"options":{"page":1,"itemsPerPage":10,"sortBy":["createdAt"],"sortDesc":[true]},"project":{"_id":1,"name":1},"filters":{"isEnabled":true,"waterQuantity":20},"search":[{"term":"","fields":["name"],"startsWith":true,"endsWith":false}],"areaId":"698e06ddd2753dd70a8ef994"}}}},"responses":{"200":{"description":"Users fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Users fetched successfully"},"data":{"type":"object","properties":{"totalCount":{"type":"integer","example":6},"tableData":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","example":"698f7dcfa9b153542b31e653"},"name":{"type":"string","example":"jayyu"},"phone":{"type":"string","example":"7338198918"},"countryCode":{"type":"string","example":"91"},"address":{"type":"object","properties":{"houseNo":{"type":"string","example":"123"},"street":{"type":"string","example":"Main St"},"area":{"type":"string","example":"698e06ddd2753dd70a8ef994"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380009"},"landmark":{"type":"string","example":"Near Park"}}},"waterQuantity":{"type":"number","example":40},"notes":{"type":"string","example":"Special instructions"},"isEnabled":{"type":"boolean","example":true},"isVerified":{"type":"boolean","example":false},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2026-02-13T19:38:55.862Z"},"updatedAt":{"type":"string","example":"2026-02-13T19:38:55.862Z"},"areaId":{"type":"object","properties":{"_id":{"type":"string","example":"698e06ddd2753dd70a8ef994"},"name":{"type":"string","example":"North Sector"},"description":{"type":"string","example":"Residential area in the north"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380015"},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2026-02-12T16:59:09.066Z"},"updatedAt":{"type":"string","example":"2026-02-12T17:18:31.885Z"}}}}}}}},"toastMessage":{"type":"string","nullable":true}}}}}}}}},"/v1/generic/constants":{"get":{"tags":["generic"],"summary":"Get all constants","description":"This endpoint retrieves a collection of constants used throughout the application. Constants include collections, user roles, environment types, enquiry types, service categories, and other application-wide constants.","security":[{"genericBearerAuth":[]}],"parameters":[{"in":"query","name":"isDemo","schema":{"type":"boolean"},"required":false,"description":"Set to true to use demo database"}],"responses":{"200":{"description":"Constants data retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":true},"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"success"},"data":{"type":"object","properties":{"COLLECTIONS":{"type":"object","description":"Database collection names","example":{"ACCESS_TOKEN":"accesstokens","REFRESH_TOKEN":"refreshtokens","USER":"users","OTP":"otps","ADMIN":"admins","AREA":"areas","SLOT":"slots","SLOT_SUBSCRIPTION":"slotSubscriptions"}},"USER_ROLES":{"type":"object","description":"User role types","example":{"USER":"user","ADMIN":"admin"}},"ENVIRONMENT":{"type":"object","description":"Environment types","example":{"PRODUCTION":"PROD","STAGED":"STAGE","DEVELOPMENT":"DEV"}},"CONSTANTS":{"type":"object","description":"Application constants","example":{"MONGODB_RECONNECT_INTERVAL":5000,"MIN_RESEND_INTERVAL_IN_SECONDS":60}},"SUBSCRIPTION_STATUS":{"type":"object","description":"Subscription status options","example":{"BOOKED":"Booked","DELIVERED":"Delivered","CANCELLED":"Cancelled","MISSED":"Missed"}},"SLOT_STATUS":{"type":"object","description":"Slot status options","example":{"AVAILABLE":"Available","FULL":"Full","CLOSED":"Closed"}},"EXTRA_REQUEST_STATUS":{"type":"object","description":"Extra request status options","example":{"NONE":"None","PENDING":"Pending","APPROVED":"Approved","REJECTED":"Rejected"}}}},"toastMessage":{"type":"string","example":"Data fetched successfully"}}}}}},"401":{"description":"Unauthorized access (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":401},"message":{"type":"string","example":"Unauthorized access. Please login again."}}}}}},"404":{"description":"Constants data not found","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":404},"message":{"type":"string","example":"Data not found"}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":500},"message":{"type":"string","example":"An unexpected error occurred. Please try again"}}}}}}}}},"/v1/generic/image":{"post":{"tags":["generic"],"summary":"Generate Presigned URL","deprecated":false,"description":"This endpoint generates a presigned URL that allows secure, temporary access to a specific resource in the storage system. The presigned URL can be used for uploading or downloading files without exposing sensitive credentials.","parameters":[{"in":"query","name":"isDemo","schema":{"type":"boolean"},"required":false,"description":"Set to true to use demo database"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["fileName"],"properties":{"fileName":{"type":"string","description":"Enter file name","example":"123.png"}}}}}},"responses":{"200":{"description":"Presigned URL generated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":true},"status":{"type":"number","example":200},"message":{"type":"string","example":"Success"},"data":{"type":"object","properties":{"signedPost":{"type":"string","description":"The presigned URL for uploading the file","example":"https://developmentexelon.s3.ap-south-1.amazonaws.com/123.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAWVWPW7BV4VAYNCFJ%2F20240612%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20240612T125526Z&X-Amz-Expires=3600&X-Amz-Signature=c12a2af175287fc25882a459373907e73710d47d07ffcd846a5761ff528fabb1&X-Amz-SignedHeaders=host&x-id=PutObject"}}},"toastMessage":{"type":"string","example":"Success"}}}}}},"400":{"description":"Bad request - fileName is required","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":400},"message":{"type":"string","example":"fileName is required and must be a non-empty string"},"toastMessage":{"type":"string","example":"fileName is required"}}}}}},"401":{"description":"Unauthorized access (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":401},"message":{"type":"string","example":"Unauthorized access. Please login again."}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":500},"message":{"type":"string","example":"Error generating signed POST"},"toastMessage":{"type":"string","example":"Error generating signed POST"}}}}}}}}},"/v1/generic/getImage":{"post":{"tags":["generic"],"summary":"Get signed URL","deprecated":false,"description":"This endpoint retrieves a signed URL that allows secure access to a specific resource stored in the cloud. The signed URL enables users to perform actions such as downloading or viewing files without needing to authenticate again, ensuring a seamless experience.","parameters":[{"in":"query","name":"isDemo","schema":{"type":"boolean"},"required":false,"description":"Set to true to use demo database"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["fileName"],"properties":{"fileName":{"type":"array","items":{"type":"string"},"description":"Array of file names","example":["123.png","456.jpg"]}}}}}},"responses":{"200":{"description":"Signed URLs retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":true},"status":{"type":"number","example":200},"message":{"type":"string","example":"Success"},"data":{"type":"object","properties":{"signedLink":{"type":"array","items":{"type":"string"},"description":"Array of signed URLs for the requested files","example":["https://developmentexelon.s3.ap-south-1.amazonaws.com/123.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAWVWPW7BV4VAYNCFJ%2F20240612%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20240612T125514Z&X-Amz-Expires=NaN&X-Amz-Signature=d7e1c519ebd6965fe369b2946cd7d112a6bae050c76e7c328cdf4b7601621344&X-Amz-SignedHeaders=host&x-id=GetObject"]}}},"toastMessage":{"type":"string","example":"Success"}}}}}},"400":{"description":"Bad request - fileName is required","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":400},"message":{"type":"string","example":"fileName is required and must be a non-empty array"},"toastMessage":{"type":"string","example":"fileName is required and must be an array"}}}}}},"401":{"description":"Unauthorized access (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":401},"message":{"type":"string","example":"Unauthorized access. Please login again."}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"isSuccess":{"type":"boolean","example":false},"statusCode":{"type":"number","example":500},"message":{"type":"string","example":"Error getting signed URLs"},"toastMessage":{"type":"string","example":"Error getting signed URLs"}}}}}}}}},"/v1/generic/location":{"post":{"tags":["generic"],"summary":"Get location data (states and districts) for India","description":"Retrieves a list of states or districts (cities) for India. The country is always India (IN). - type=state returns all states in India - type=district with stateCode returns all districts (cities) for that state in India\n","parameters":[{"in":"query","name":"isDemo","schema":{"type":"boolean"},"required":false,"description":"Set to true to use demo database"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["state","district"],"description":"Type of location data to retrieve. Use state to get all states, or district to get districts for a specific state.","example":"state"},"state":{"type":"string","description":"ISO2 state name required when type is district. Examples include MH for Maharashtra and KA for Karnataka.","example":"Karnataka"}}},"examples":{"GetStates":{"summary":"Get all states in India","value":{"type":"state"}},"GetDistricts":{"summary":"Get districts in Maharashtra","value":{"type":"district","state":"Karnataka"}}}}}},"responses":{"200":{"description":"Location data retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Data fetched successfully"},"data":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Name of the state or district"}}}}}},"examples":{"StatesResponse":{"summary":"Example response for states","value":{"status":200,"message":"Data fetched successfully","data":[{"name":"Maharashtra"},{"name":"Karnataka"},{"name":"Delhi"}]}},"DistrictsResponse":{"summary":"Example response for districts","value":{"status":200,"message":"Data fetched successfully","data":[{"name":"Mumbai"},{"name":"Pune"},{"name":"Nagpur"}]}}}}}},"400":{"description":"Bad request - Missing or invalid parameters","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":400},"message":{"type":"string","example":"stateCode is required for type=district"},"toastMessage":{"type":"string","example":"stateCode is required"}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":500},"message":{"type":"string","example":"An unexpected error occurred. Please try again"},"toastMessage":{"type":"string","example":"An unexpected error occurred. Please try again"}}}}}}}}},"/v1/generic/pincode":{"post":{"tags":["generic"],"summary":"Get Karnataka area pincodes or search within them","description":"Retrieves a list of Karnataka area pincodes based on the provided search term or returns all Karnataka area pincodes if no search term is provided.","requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"search":{"type":"array","items":{"type":"object","properties":{"term":{"type":"string","example":"574154"},"fields":{"type":"array","items":{"type":"string"},"example":["pincode","area","district"]},"startsWith":{"type":"boolean","example":true},"endsWith":{"type":"boolean","example":false}}}},"options":{"type":"object","properties":{"page":{"type":"integer","example":1},"itemsPerPage":{"type":"integer","example":10}}}}}}}},"responses":{"200":{"description":"Pincode data retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"success"},"data":{"type":"object","properties":{"totalCount":{"type":"integer","example":1},"tableData":{"type":"array","items":{"type":"object","properties":{"pincode":{"type":"string","example":"574154"},"officeName":{"type":"string","example":"Mulki S.O."},"officeType":{"type":"string","example":"Sub Office"},"deliveryStatus":{"type":"string","example":"Delivery"},"district":{"type":"string","example":"Dakshina Kannada"},"state":{"type":"string","example":"Karnataka"},"region":{"type":"string","example":"South Karnataka"},"circle":{"type":"string","example":"Karnataka"}}}}}}}}}}},"500":{"description":"Internal server error"}}}},"/v1/user/auth/register":{"post":{"summary":"Register a new user","description":"Create a new user account. No authentication required.","tags":["User/Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","phone","countryCode","address","waterQuantity"],"properties":{"name":{"type":"string","example":"John Doe"},"phone":{"type":"string","example":"9876543210"},"countryCode":{"type":"string","example":"91"},"address":{"type":"object","properties":{"houseNo":{"type":"string","example":"123"},"street":{"type":"string","example":"Main St"},"area":{"type":"string","description":"Area ID (ObjectId)","example":"64d2fa92e5b5f7765e4e13a2"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380009"},"landmark":{"type":"string","example":"Near Park"}}},"waterQuantity":{"type":"number","example":30},"notes":{"type":"string","example":"Special instructions"}}}}}},"responses":{"201":{"description":"User registered successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":210},"message":{"type":"string","example":"User created successfully"},"data":{"type":"object","properties":{"_id":{"type":"string","example":"64d2fa92e5b5f7765e4e13a2"}}},"toastMessage":{"type":"string","example":"User created successfully"}}}}}},"409":{"description":"User already exists"},"500":{"description":"Internal server error"}}}},"/v1/user/auth/verifyOTP":{"post":{"summary":"Verify OTP and issue user tokens","description":"Verify the OTP sent to the user's phone. Returns access and refresh tokens if valid and user exists.","tags":["User/Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["countryCode","phone","otp"],"properties":{"countryCode":{"type":"string","description":"Country code prefix","example":"91"},"phone":{"type":"string","description":"Phone number that received the OTP","example":"9876543210"},"otp":{"type":"string","description":"OTP received on the phone","example":"1234"}}}}}},"responses":{"200":{"description":"OTP verified successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"OTP verified successfully"},"data":{"type":"object","properties":{"isVerified":{"type":"boolean","example":true},"accessToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"expiryTime":{"type":"string","format":"date-time","example":"2025-11-14T17:02:33.934Z"}}},"toastMessage":{"type":"string","example":"OTP verified"}}}}}},"400":{"description":"Invalid OTP or validation error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":400},"message":{"type":"string","example":"Invalid OTP"},"toastMessage":{"type":"string","example":"Invalid OTP"}}}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":404},"message":{"type":"string","example":"User not found"},"toastMessage":{"type":"string","example":"User not found. Please register first."}}}}}},"500":{"description":"Internal server error"}}}},"/v1/user/auth/refreshToken":{"post":{"summary":"Refresh user access token","description":"Issue a new access token using a valid refresh token.","tags":["User/Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"type":"string","description":"Valid refresh token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}}}},"responses":{"200":{"description":"Access token refreshed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"success"},"data":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"expiryTime":{"type":"string","format":"date-time"}}},"toastMessage":{"type":"string","example":"Token refreshed"}}}}}},"400":{"description":"Invalid or expired refresh token"},"500":{"description":"Internal server error"}}}},"/v1/user/auth/logout":{"post":{"summary":"Logout user","description":"Invalidate user's current session by deleting their access and refresh tokens.","tags":["User/Auth"],"security":[{"userBearerAuth":[]}],"responses":{"200":{"description":"Logged out successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"success"},"data":{"type":"string","example":"Logged out successfully"},"toastMessage":{"type":"string","example":"Logged out successfully"}}}}}},"401":{"description":"Unauthorized"},"500":{"description":"Internal server error"}}}},"/v1/user/auth/sendOTP":{"post":{"summary":"Send an OTP to the user's phone","description":"Only sends OTP if the user exists and their profile (name) is completed.","tags":["User/Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["countryCode","phone"],"properties":{"countryCode":{"type":"string","description":"E.164 compatible country code prefix","example":"91"},"phone":{"type":"string","description":"User's phone number without country code","example":"9876543210"}}}}}},"responses":{"200":{"description":"OTP sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"success"},"data":{"type":"string","example":"OTP sent successfully"},"toastMessage":{"type":"string","example":"OTP sent"}}}}}},"400":{"description":"OTP already sent recently","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":400},"message":{"type":"string","example":"OTP already sent"},"toastMessage":{"type":"string","example":"OTP already sent"}}}}}},"404":{"description":"User not registered or profile incomplete","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":404},"message":{"type":"string","example":"User not registered"},"toastMessage":{"type":"string","example":"User not registered, please register first"}}}}}},"500":{"description":"Internal server error"}}}},"/v1/user/auth/profile":{"put":{"summary":"Update user profile","description":"Update the authenticated user's profile information.","tags":["User/Auth"],"security":[{"userBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"John Doe"},"address":{"type":"object","properties":{"houseNo":{"type":"string","example":"123"},"street":{"type":"string","example":"Main St"},"area":{"type":"string","example":"64d2fa92e5b5f7765e4e13a2"},"city":{"type":"string","example":"Ahmedabad"},"pincode":{"type":"string","example":"380009"},"landmark":{"type":"string","example":"Near Park"}}},"waterQuantity":{"type":"number","example":30},"notes":{"type":"string","example":"Special instructions"}}}}}},"responses":{"200":{"description":"Profile updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Profile updated successfully"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"countryCode":{"type":"string"},"address":{"type":"object"},"waterQuantity":{"type":"number"},"notes":{"type":"string"},"areaId":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"city":{"type":"string"},"pincode":{"type":"string"}}}}},"toastMessage":{"type":"string","example":"Profile updated successfully"}}}}}},"401":{"description":"Unauthorized"},"404":{"description":"User not found"},"500":{"description":"Internal server error"}}},"get":{"summary":"Get user profile","description":"Fetch the authenticated user's profile information.","tags":["User/Auth"],"security":[{"userBearerAuth":[]}],"responses":{"200":{"description":"Profile fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","example":200},"message":{"type":"string","example":"Profile fetched successfully"},"data":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"countryCode":{"type":"string"},"address":{"type":"object"},"waterQuantity":{"type":"number"},"notes":{"type":"string"},"areaId":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"city":{"type":"string"},"pincode":{"type":"string"}}}}},"toastMessage":{"type":"string","nullable":true}}}}}},"401":{"description":"Unauthorized"},"404":{"description":"User not found"},"500":{"description":"Internal server error"}}}},"/v1/user/slot/current":{"get":{"summary":"Get current/upcoming slot for the user","tags":["User/Slot"],"security":[{"userBearerAuth":[]}],"responses":{"200":{"description":"Current slot fetched successfully"},"404":{"description":"User area not found"}}}},"/v1/user/slot/cancel/{id}":{"post":{"summary":"Cancel a slot subscription","tags":["User/Slot"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Subscription ID"}],"security":[{"userBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["Cancelled"],"example":"Cancelled"}}}}}},"responses":{"200":{"description":"Subscription cancelled successfully"},"400":{"description":"Cancellation period expired"},"404":{"description":"Subscription not found"}}}},"/v1/user/slot/requestExtra/{id}":{"post":{"summary":"Request extra water quantity for a slot","tags":["User/Slot"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Subscription ID"}],"security":[{"userBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"quantity":{"type":"number","example":2}}}}}},"responses":{"200":{"description":"Extra quantity requested successfully"},"404":{"description":"Subscription not found"}}}},"/v1/user/slot/history":{"post":{"summary":"Get delivery history for the user","tags":["User/Slot"],"security":[{"userBearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"filters":{"type":"object","example":{"status":"Delivered"}},"options":{"type":"object","properties":{"page":{"type":"number","example":1},"itemsPerPage":{"type":"number","example":10},"sortBy":{"type":"array","items":{"type":"string"},"example":["createdAt"]},"sortDesc":{"type":"array","items":{"type":"boolean"},"example":[true]}}},"project":{"type":"object","example":{"_id":1,"date":1,"area":1,"liters":1,"status":1}},"search":{"type":"array","items":{"type":"object","properties":{"term":{"type":"string"},"fields":{"type":"array","items":{"type":"string"}},"startsWith":{"type":"boolean"},"endsWith":{"type":"boolean"}}},"example":[{"term":"Koramangala","fields":["area"],"startsWith":true}]}}}}}},"responses":{"200":{"description":"User history fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"number","example":200},"data":{"type":"object","properties":{"totalCount":{"type":"number","example":5},"tableData":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","example":"2026-02-14T10:00:00Z"},"area":{"type":"string","example":"Koramangala"},"liters":{"type":"string","example":"100L"},"status":{"type":"string","example":"Delivered"}}}}}}}}}}}}}}},"tags":[{"name":"Areas","description":"Area management APIs"},{"name":"Slots","description":"Slot management APIs"},{"name":"Admin Slot Subscription","description":"Management of user slot subscriptions and extra requests"},{"name":"Users","description":"User management for admins"},{"name":"User Auth","description":"User authentication and registration APIs for the mobile app"},{"name":"User Slot","description":"Slot management for users"}]};
      docs.apiDescriptionDocument = apiDescriptionDocument;
    })();
